<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Disable Console Output -->
    <script>
    (function() {
        // 禁用所有 console 方法
        const noop = function() {};
        const methods = ['log', 'debug', 'info', 'warn', 'error', 'dir', 'dirxml', 'table', 'trace', 'group', 'groupCollapsed', 'groupEnd', 'clear', 'count', 'countReset', 'assert', 'profile', 'profileEnd', 'time', 'timeLog', 'timeEnd', 'timeStamp'];
        
        methods.forEach(method => {
            if (console[method]) {
                console[method] = noop;
            }
        });
        
        // 防止通过其他方式访问原始 console
        Object.freeze(console);
    })();
    </script>
    
    <title>Chapter 122 - Love&#39;s Prescription The Small-Town Girl Is An Extraordinary Healer | NovelVibe</title>
    <meta name="description" content="Read Love&#39;s Prescription The Small-Town Girl Is An Extraordinary Healer Chapter 122 on NovelVibe - Free werewolf romance novels">
    <meta name="keywords" content="romance">
    
    <!-- Time Meta Tags for SEO -->
    
    <meta property="article:published_time" content="2025-10-27T12:42:12.797716">
    <meta property="article:modified_time" content="2025-10-27T12:42:12.797716">
    <meta name="date" content="2025-10-27">
    <meta name="last-modified" content="2025-10-27 12:42:12">
    
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Chapter 122">
    <meta property="og:description" content="Read Love&#39;s Prescription The Small-Town Girl Is An Extraordinary Healer online for free">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://novel.freekingbook.com/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-122.html">
    <meta property="og:image" content="/covers/loves-prescription-the-small-town-girl-is-an-extraordinary-healer-ScreenShot_2025-10-13_134407_507.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Chapter 122">
    <meta name="twitter:description" content="Read Love&#39;s Prescription The Small-Town Girl Is An Extraordinary Healer online">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://novel.freekingbook.com/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-122.html">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ND2Y00VMY2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-ND2Y00VMY2');
    </script>
    
    <!-- Google Publisher Tag (GPT) -->
    <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js" crossorigin="anonymous"></script>
    <script>
      window.googletag = window.googletag || {cmd: []};
      googletag.cmd.push(function() {
        // Define ad slots for the chapter page
        googletag.defineSlot('/93656639/freekingbook.com/banner_1', [300, 250], 'div-gpt-ad-1759827039113-0').addService(googletag.pubads());
        googletag.defineSlot('/93656639/freekingbook.com/banner_2', [300, 250], 'div-gpt-ad-1759827064631-0').addService(googletag.pubads());
        googletag.defineSlot('/93656639/freekingbook.com/banner_3', [300, 250], 'div-gpt-ad-1759827094695-0').addService(googletag.pubads());
        googletag.defineSlot('/93656639/freekingbook.com/banner_4', [300, 250], 'div-gpt-ad-1759827119820-0').addService(googletag.pubads());
        googletag.defineSlot('/93656639/freekingbook.com/banner_5', [300, 250], 'div-gpt-ad-1759827146148-0').addService(googletag.pubads());
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
      });
    </script>
    
    <!-- Facebook Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');

    fbq('init', '1357769482743598');
    
    // Natural 72-hour event tracking prevention (resets every 3 days)
    function shouldTrackEvent(eventName) {
        const now = new Date();
        const threeDaysAgo = new Date(now.getTime() - (3 * 24 * 60 * 60 * 1000));
        const currentPeriod = Math.floor(now.getTime() / (3 * 24 * 60 * 60 * 1000));
        const storageKey = `fb_event_${eventName}`;
        const lastTrackedPeriod = localStorage.getItem(storageKey);
        
        if (!lastTrackedPeriod || parseInt(lastTrackedPeriod) !== currentPeriod) {
            localStorage.setItem(storageKey, currentPeriod.toString());
            return true;
        }
        
        return false;
    }
    
    // Track PageView with 72-hour prevention
    if (shouldTrackEvent('PageView')) {
        fbq('track', 'PageView');
        console.log('Facebook事件已发送: PageView (页面浏览)');
    } else {
        console.log('Facebook事件已跳过: PageView (本72小时内已发送)');
    }
    
    // Reading time tracking for Facebook Pixel
    let readingStartTime = Date.now();
    let oneMinuteSent = false;
    let tenMinutesSent = false;
    
    function checkReadingTime() {
        const currentTime = Date.now();
        const readingTime = (currentTime - readingStartTime) / 1000 / 60; // in minutes
        
        if (!oneMinuteSent && readingTime >= 1) {
            if (shouldTrackEvent('1m_web')) {
                fbq('track', '1m_web');
                console.log('Facebook事件已发送: 1m_web (用户阅读1分钟)');
            } else {
                console.log('Facebook事件已跳过: 1m_web (本72小时内已发送)');
            }
            oneMinuteSent = true;
        }
        
        if (!tenMinutesSent && readingTime >= 10) {
            if (shouldTrackEvent('10m_web')) {
                fbq('track', '10m_web');
                console.log('Facebook事件已发送: 10m_web (用户阅读10分钟)');
            } else {
                console.log('Facebook事件已跳过: 10m_web (本72小时内已发送)');
            }
            tenMinutesSent = true;
        }
    }
    
    // Check reading time every 30 seconds
    setInterval(checkReadingTime, 30000);
    
    // Also check when page becomes visible again (in case user switches tabs)
    document.addEventListener('visibilitychange', function() {
        if (!document.hidden) {
            checkReadingTime();
        }
    });
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1357769482743598&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Facebook Pixel Code -->
    
    <!-- 追踪参数保持系统 -->
    <script>
    (function() {
        'use strict';
        
        // 需要保持的追踪参数列表
        const TRACKING_PARAMS = ['fbclid', 'utm_source', 'utm_medium', 'utm_campaign', 'utm_content', 'utm_term', 'utm_id'];
        const STORAGE_KEY = 'tracking_params';
        const STORAGE_EXPIRY_KEY = 'tracking_params_expiry';
        const EXPIRY_HOURS = 24; // 24小时过期
        
        /**
         * 从URL中提取追踪参数
         */
        function extractTrackingParams(url) {
            const params = {};
            try {
                const urlObj = new URL(url);
                TRACKING_PARAMS.forEach(param => {
                    const value = urlObj.searchParams.get(param);
                    if (value) {
                        params[param] = value;
                    }
                });
            } catch (e) {
                console.error('URL解析失败:', e);
            }
            return params;
        }
        
        /**
         * 保存追踪参数到 localStorage
         */
        function saveTrackingParams(params) {
            if (Object.keys(params).length === 0) return;
            
            try {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(params));
                const expiryTime = Date.now() + (EXPIRY_HOURS * 60 * 60 * 1000);
                localStorage.setItem(STORAGE_EXPIRY_KEY, expiryTime.toString());
                console.log('追踪参数已保存:', params);
            } catch (e) {
                console.error('保存追踪参数失败:', e);
            }
        }
        
        /**
         * 从 localStorage 读取追踪参数
         */
        function loadTrackingParams() {
            try {
                const expiryTime = localStorage.getItem(STORAGE_EXPIRY_KEY);
                if (expiryTime && Date.now() > parseInt(expiryTime)) {
                    // 已过期，清除
                    localStorage.removeItem(STORAGE_KEY);
                    localStorage.removeItem(STORAGE_EXPIRY_KEY);
                    console.log('追踪参数已过期，已清除');
                    return {};
                }
                
                const stored = localStorage.getItem(STORAGE_KEY);
                if (stored) {
                    const params = JSON.parse(stored);
                    console.log('从存储加载追踪参数:', params);
                    return params;
                }
            } catch (e) {
                console.error('读取追踪参数失败:', e);
            }
            return {};
        }
        
        /**
         * 为链接添加追踪参数
         */
        function addTrackingParamsToUrl(url, params) {
            if (Object.keys(params).length === 0) return url;
            
            try {
                const urlObj = new URL(url, window.location.origin);
                
                // 只处理同域名的链接
                if (urlObj.origin !== window.location.origin) {
                    return url;
                }
                
                // 添加参数
                Object.keys(params).forEach(key => {
                    if (!urlObj.searchParams.has(key)) {
                        urlObj.searchParams.set(key, params[key]);
                    }
                });
                
                return urlObj.toString();
            } catch (e) {
                console.error('添加追踪参数失败:', e);
                return url;
            }
        }
        
        /**
         * 处理页面上的所有链接
         */
        function processPageLinks(params) {
            if (Object.keys(params).length === 0) return;
            
            // 处理所有 <a> 标签
            const links = document.querySelectorAll('a[href]');
            links.forEach(link => {
                const href = link.getAttribute('href');
                if (href && !href.startsWith('#') && !href.startsWith('javascript:')) {
                    const newHref = addTrackingParamsToUrl(href, params);
                    if (newHref !== href) {
                        link.setAttribute('href', newHref);
                    }
                }
            });
            
            console.log(`已处理 ${links.length} 个链接`);
        }
        
        /**
         * 初始化追踪参数系统
         */
        function initTrackingSystem() {
            // 1. 检查当前URL是否有新的追踪参数
            const currentParams = extractTrackingParams(window.location.href);
            
            // 2. 如果有新参数，保存它们（新参数优先级更高）
            if (Object.keys(currentParams).length > 0) {
                saveTrackingParams(currentParams);
                console.log('检测到新的追踪参数，已更新存储');
            }
            
            // 3. 加载存储的参数（可能是刚保存的新参数，也可能是之前的旧参数）
            const storedParams = loadTrackingParams();
            
            // 4. 如果有参数需要保持，处理页面上的所有链接
            if (Object.keys(storedParams).length > 0) {
                // 等待 DOM 完全加载
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', () => {
                        processPageLinks(storedParams);
                    });
                } else {
                    processPageLinks(storedParams);
                }
                
                // 监听动态添加的链接
                const observer = new MutationObserver(() => {
                    processPageLinks(storedParams);
                });
                
                observer.observe(document.body, {
                    childList: true,
                    subtree: true
                });
            }
        }
        
        // 立即执行初始化
        initTrackingSystem();
    })();
    </script>
    
    <!-- 页面访问统计代码 -->
    <script>
    // 页面访问数据收集
    function sendPageVisit() {
        // 先获取用户IP地址
        getUserIP().then(userIP => {
            const data = {
                page: window.location.href,
                userAgent: navigator.userAgent,
                userIP: userIP
            };
            
            // 发送数据到 Google Apps Script (V8)
            fetch('https://script.google.com/macros/s/AKfycbzwU60p8Iqgm3vMP0TZZu1E6b9vvQQZldUVcrWNWzbRLPbuTNc8QCq9JquLb3mo29-D/exec', {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            }).catch(error => {
                console.log('Analytics error:', error);
            });
        }).catch(error => {
            // 如果获取IP失败，仍发送其他数据
            const data = {
                page: window.location.href,
                userAgent: navigator.userAgent,
                userIP: 'Unknown'
            };
            
            fetch('https://script.google.com/macros/s/AKfycbzwU60p8Iqgm3vMP0TZZu1E6b9vvQQZldUVcrWNWzbRLPbuTNc8QCq9JquLb3mo29-D/exec', {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            }).catch(error => {
                console.log('Analytics error:', error);
            });
        });
    }
    
    // 获取用户IP地址
    async function getUserIP() {
        try {
            // 方法1：使用免费的IP API
            const response = await fetch('https://api.ipify.org?format=json');
            const ipData = await response.json();
            return ipData.ip;
        } catch (error1) {
            try {
                // 方法2：备用IP API
                const response = await fetch('https://httpbin.org/ip');
                const ipData = await response.json();
                return ipData.origin.split(',')[0].trim();
            } catch (error2) {
                try {
                    // 方法3：第三个备用API
                    const response = await fetch('https://jsonip.com');
                    const ipData = await response.json();
                    return ipData.ip;
                } catch (error3) {
                    console.log('获取IP失败，使用Unknown');
                    return 'Unknown';
                }
            }
        }
    }
    
    // 页面加载完成后发送访问数据
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', sendPageVisit);
    } else {
        sendPageVisit();
    }
    </script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #007AFF;
            --bg-color: #FFFFFF;
            --text-color: #333333;
            --secondary-bg: #F2F2F7;
            --border-color: #E5E5EA;
            --header-height: 60px;
            --footer-height: 70px;
            --content-padding: 20px;
        }

        .dark-mode {
            --primary-color: #0A84FF;
            --bg-color: #1C1C1E;
            --text-color: #E5E5EA;
            --secondary-bg: #2C2C2E;
            --border-color: #38383A;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
            padding: 0 var(--content-padding);
        }

        header {
            height: var(--header-height);
            background-color: var(--bg-color);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            align-items: center;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .left-header, .right-header {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            font-weight: 700;
            font-size: 22px;
            color: var(--primary-color);
            text-decoration: none;
        }

        .btn {
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 18px;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        .btn:hover {
            background-color: var(--secondary-bg);
        }

        .theme-toggle {
            width: 40px;
            height: 24px;
            background-color: var(--secondary-bg);
            border-radius: 12px;
            position: relative;
            cursor: pointer;
        }

        .theme-toggle::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: var(--primary-color);
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
        }

        .dark-mode .theme-toggle::after {
            transform: translateX(16px);
        }

        main {
            flex: 1;
            padding: 30px 0;
        }

        .chapter-title {
            font-size: 24px;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .content {
            font-size: 18px;
            text-align: justify;
        }

        .content p {
            margin-bottom: 20px;
        }

        .font-controls {
            display: flex;
            gap: 10px;
            margin-top: 30px;
            justify-content: center;
        }

        .font-btn {
            padding: 8px 16px;
            background-color: var(--secondary-bg);
            border: none;
            border-radius: 8px;
            color: var(--text-color);
            cursor: pointer;
        }

        .font-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        footer {
            height: var(--footer-height);
            background-color: var(--bg-color);
            border-top: 1px solid var(--border-color);
            display: flex;
            align-items: center;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .nav-btn {
            padding: 12px 20px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            text-decoration: none;
        }

        .nav-btn:disabled {
            background-color: var(--secondary-bg);
            color: var(--text-color);
            opacity: 0.7;
            cursor: not-allowed;
        }

        .chapter-nav {
            display: flex;
            gap: 15px;
        }

        .sidebar {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100%;
            background-color: var(--bg-color);
            border-right: 1px solid var(--border-color);
            z-index: 200;
            overflow-y: auto;
            padding: 20px;
            transition: left 0.3s ease;
        }

        .sidebar.open {
            left: 0;
        }

        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 199;
            display: none;
        }

        .sidebar-overlay.open {
            display: block;
        }

        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-title {
            font-size: 20px;
            font-weight: 600;
        }

        .chapter-list {
            list-style: none;
        }

        .chapter-item {
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .chapter-item a {
            color: var(--text-color);
            text-decoration: none;
            display: block;
        }

        .chapter-item.active a {
            color: var(--primary-color);
            font-weight: 600;
        }

        .font-small {
            font-size: 16px;
        }

        .font-medium {
            font-size: 18px;
        }

        .font-large {
            font-size: 20px;
        }

        @media (max-width: 768px) {
            :root {
                --content-padding: 15px;
            }
            
            .chapter-title {
                font-size: 22px;
            }
            
            .content {
                font-size: 16px;
            }
            
            .nav-btn {
                padding: 10px 15px;
                font-size: 14px;
            }
            
            .sidebar {
                width: 85%;
                left: -85%;
            }
        }
    </style>
    
    <!-- Schema.org Structured Data for Article -->
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Chapter 122 - Love&#39;s Prescription The Small-Town Girl Is An Extraordinary Healer",
        "alternativeHeadline": "Chapter 122: Chapter 122",
        "author": {
            "@type": "Person",
            "name": "Unknown Author"
        },
        "datePublished": "2025-10-27T12:42:12.797716",
        "dateModified": "2025-10-27T12:42:12.797716",
        "publisher": {
            "@type": "Organization",
            "name": "NovelVibe",
            "url": "https://novel.freekingbook.com",
            "logo": {
                "@type": "ImageObject",
                "url": "https://novel.freekingbook.com/assets/images/logo.png"
            }
        },
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://novel.freekingbook.com/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-122.html"
        },
        "url": "https://novel.freekingbook.com/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-122.html",
        
        "image": {
            "@type": "ImageObject",
            "url": "/covers/loves-prescription-the-small-town-girl-is-an-extraordinary-healer-ScreenShot_2025-10-13_134407_507.png"
        },
        
        "articleSection": "Chapter",
        "wordCount": "1429",
        "isPartOf": {
            "@type": "Book",
            "name": "Love&#39;s Prescription The Small-Town Girl Is An Extraordinary Healer",
            "author": {
                "@type": "Person",
                "name": "Unknown Author"
            }
        }
    }
    </script>
    
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="left-header">
                    <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/" class="btn" id="back-btn">
                        <i class="fas fa-chevron-left"></i>
                    </a>
                    <a href="/" class="logo">NovelVibe</a>
                </div>
                <div class="right-header">
                    <button class="btn" id="theme-btn">
                        <div class="theme-toggle"></div>
                    </button>
                    <button class="btn" id="toc-btn">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <h1 class="chapter-title">Chapter 122</h1>
            <div class="content font-medium">
                
                
                <p>Katelyn&#39;s calm certainty left Kaia little room to doubt.A woman as cunning as her would never risk a lie that could be shattered so easily-if she wasn&#39;t truly Evelyn, the real one would step forward to expose the fraud.</p>
                
                <!-- /93656639/freekingbook.com/banner_1 -->
                <div id='div-gpt-ad-1759827039113-0' style='min-width: 300px; min-height: 250px; text-align:center; margin: 20px 0;'>
                  <script>
                    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1759827039113-0'); });
                  </script>
                </div>
                
                
                
                
                
                
                
                
                <p>The figure Kaia had idolized for years now stood before her, and the awe inside her chest swelled until it drowned everything else. She couldn&#39;t say if anyone alive could defeat Verena, but if Evelyn was involved,Kaia believed it was possible.</p>
                
                
                
                
                
                
                
                
                <p>Her gaze softened into adoration as she clutched Katelyn&#39;s hand, her voice trembling with devotion.&#34;You&#39;re really Evelyn? I can&#39;t believe I&#39;m meeting you -after all these years, and we&#39;ve even crossed paths before without me knowing. This is incredible!&#34;</p>
                
                
                
                
                
                
                
                
                <p>&#34;In this country, just call me Katelyn,&#34; Katelyn replied,her smile perfectly composed, though her eyes betrayed nothing. &#34;We&#39;ll have plenty of time together, so there&#39;s no need for such excitement.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Hearing that, Kaia&#39;s joy overflowed. She nodded over and over, grinning wide. &#34;Of course, of course. I get it -you don&#39;t want to attract attention. But tell me,when do we strike back at Verena?&#34;</p>
                
                
                <!-- /93656639/freekingbook.com/banner_2 -->
                <div id='div-gpt-ad-1759827064631-0' style='min-width: 300px; min-height: 250px; text-align:center; margin: 20px 0;'>
                  <script>
                    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1759827064631-0'); });
                  </script>
                </div>
                
                
                
                
                
                
                
                <p>Katelyn&#39;s voice flowed like silk, smooth and unhurried. &#34;Not yet. First, you need to regain your strength. When the time is right and the plan is ready, I&#39;ll let you know.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Still sniffling from the cold she&#39;d caught in the storm,Kaia lowered her head and whispered, &#34;Alright.&#34;</p>
                
                
                
                
                
                
                
                
                <p>The thought of the reason behind Katelyn targeting Verena still gnawed at Kaia, and confusion spilled into her words.&#34;Katelyn, I don&#39;t get it. Isaac isn&#39;t who he used to be. Even with his money and power,he&#39;s a broken man now. Why would someone as extraordinary as you still want him? Honestly, he doesn&#39;t deserve you.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Her protest was fueled partly by admiration for her idol and partly by the resentment she carried for Isaac&#39;s constant defense of Verena.</p>
                
                
                
                
                
                
                
                
                <p>She added, her tone sharper, &#34;And his legs-they&#39;re ruined. Everyone knows he&#39;ll never walk properly again.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Katelyn rose to her feet, her confidence radiating.&#34;With me by his side, do you really believe Isaac can&#39;t recover?&#34;</p>
                
                
                
                
                
                
                
                
                <p>Her gaze slid past Kaia and out the window,her voice low and resolute, as if she were speaking more to fate than to anyone in the room. &#34;Isaac will be mine.And Verena-she won&#39;t escape me. I&#39;ll drag her down with my own hands. This isn&#39;t only about helping you.I despise her for taking what&#39;s mine, for wearing the title of his wife.&#34;</p>
                
                
                
                
                
                
                
                
                <p>A cold smile curved Katelyn&#39;s lips. &#34;One day,Verena will understand that the role of Isaac&#39;s wife belongs to me-and me alone.&#34;</p>
                
                
                
                
                
                
                
                
                <p>After lingering long enough to let her words settle,Katelyn urged Kaia to rest, and then swept out of the  room.</p>
                
                
                
                
                
                
                
                
                <p>The butler, waiting just outside, leaned in close and murmured, &#34;Miss Fuller, the guest has arrived. He&#39;s waiting in the study.&#34;</p>
                
                
                
                <!-- /93656639/freekingbook.com/banner_3 -->
                <div id='div-gpt-ad-1759827094695-0' style='min-width: 300px; min-height: 250px; text-align:center; margin: 20px 0;'>
                  <script>
                    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1759827094695-0'); });
                  </script>
                </div>
                
                
                
                
                
                
                <p>Without breaking stride, Katelyn gave a single nod,her eyes fixed forward. &#34;Keep watch on the woman inside.I want every move reported back to me.&#34;</p>
                
                
                
                
                
                
                
                
                <p>The butler bowed his head respectfully. &#34;Yes, Miss Fuller.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Katelyn walked steadily down the hall until she reached the study door.</p>
                
                
                
                
                
                
                
                
                <p>Pushing it open, she stepped inside and greeted the man on the sofa. &#34;Mr. Baldwin, forgive the delay.I hope you haven&#39;t been waiting long.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Foley Baldwin, the most powerful voice in Shoildon&#39;s news world, immediately rose to his feet. &#34;Not at all.I only just got here myself.&#34;</p>
                
                
                
                
                
                
                
                
                <p>&#34;Please, sit,&#34; Katelyn said before lowering herself onto the sofa opposite him. They faced each other across the polished table, and Katelyn laced her fingers together on her lap. Her voice was smooth, deliberate. &#34;Mr. Baldwin, I&#39;m sure my butler has already filled you in on the basics.People like us don&#39;t waste time dancing around. The fact that you&#39;re here tells me you&#39;re ready to do business.&#34;</p>
                
                
                
                
                
                
                
                
                <p>The other day, following Katelyn&#39;s instructions, her butler had lured Foley out, drowned him in liquor, and set two heavy lockboxes before him.</p>
                
                
                
                
                
                
                
                
                <p>By morning, when he woke, the sight had been enough to stun him-neat stacks of cash piled high,far beyond what a man in his position could ever earn in years of honest work.</p>
                
                
                
                
                
                
                
                
                <p>The butler had whispered at the dinner meeting that this was only the down payment, with far more to come once the job was finished.</p>
                
                
                
                
                
                
                
                
                <p>The temptation was too much to resist. And after all,Katelyn&#39;s request wasn&#39;t outlandish-half the news in entertainment was embellished anyway. Not long after, Foley had picked up his phone and asked the butler for the meeting time, greed outweighing hesitation.</p>
                
                
                
                
                <!-- /93656639/freekingbook.com/banner_4 -->
                <div id='div-gpt-ad-1759827119820-0' style='min-width: 300px; min-height: 250px; text-align:center; margin: 20px 0;'>
                  <script>
                    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1759827119820-0'); });
                  </script>
                </div>
                
                
                
                
                
                <p>Now, recalling the gleam of those banknotes, he grinned broadly. &#34;Miss Fuller, your generosity speaks louder than words. How could I possibly disappoint you?&#34;</p>
                
                
                
                
                
                
                
                
                <p>Foley leaned forward eagerly. &#34;Just say the word,Miss Fuller. Whatever you require, I&#39;ll see to it.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Katelyn&#39;s smile was cool and calculated. &#34;My request is simple. Push the stories of my successes abroad.Dress them up with a little mystery-use phrases like &#39;an enigmatic figure&#39; or &#39;a hidden talent.&#39; Don&#39;t reveal too much. The goal is to nudge the narrative toward Evelyn without ever confirming it. Keep the language vague, leave the speculation hanging. The rest is your craft, not mine.&#34;</p>
                
                
                
                
                
                
                
                
                <p>After laying out her instructions, she checked the time on her watch, her expression softening into a polite smile. &#34;You&#39;ll have to excuse me now-my trainer is due any minute.&#34; Taking the hint, Foley rose to his feet, bowing his head slightly. &#34;Ah, yes, I just remembered I have pressing matters waiting at the office. Consider it done, Miss Fuller. You&#39;ll have no complaints from me.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Her eyes narrowed slightly, a flicker of mock confusion sharpening her gaze, the unspoken warning clear.</p>
                
                
                
                
                
                
                
                
                <p>Catching it instantly, Foley straightened with a nervous chuckle. &#34;Of course. For the record, I&#39;ve spent the entire day at home, handling business privately. No visitors, no conversations. You can count on my discretion.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Only then did Katelyn&#39;s smile return, her voice smooth. &#34;Good. Safe travels, Mr.Baldwin.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Money greased every wheel, and Katelyn&#39;s money in particular worked like oil on fire. Foley wasted no time. By the very next morning, headlines blazed across Shoildon&#39;s media outlets, Katelyn&#39;s name stamped everywhere and whispered in elite circles.</p>
                
                
                
                
                
                
                
                
                <p>The banner story read: &#34;Katelyn Fuller Returns with Stellar Credentials! Enigmatic Background Stirs Curiosity among High Society.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Once the article went live, Foley wasted no time. As Katelyn instructed, he unleashed a wave of paid influencers to flood the comment sections and steer the conversation.</p>
                
                
                
                
                
                <!-- /93656639/freekingbook.com/banner_5 -->
                <div id='div-gpt-ad-1759827146148-0' style='min-width: 300px; min-height: 250px; text-align:center; margin: 20px 0;'>
                  <script>
                    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1759827146148-0'); });
                  </script>
                </div>
                
                
                
                
                <p>The first voice popped up. &#34;Wait a second-wasn&#39;t Katelyn living in Clokron all this time? She&#39;s really back?&#34;</p>
                
                
                
                
                
                
                
                
                <p>Another quickly followed, commenting, &#34;Didn&#39;t she study medicine? I&#39;ve heard rumors she comes and goes like a ghost-totally mysterious.&#34;</p>
                
                
                
                
                
                
                
                
                <p>A third comment read, &#34;Oneof my friends swears she went to the same school as Katelyn. They say she might have a second identity... though nobody knows for sure.&#34; Then came a fourth comment. &#34;Word is, she once cured a patient that even top professors couldn&#39;t save. The guy walked away completely healed under her care!&#34;</p>
                
                
                
                
                
                
                
                
                <p>The chatter spread, and soon the city&#39;s wealthy began adding their own speculation to the mix.</p>
                
                
                
                
                
                
                
                
                <p>In Shoildon&#39;s upper circles, the gossip spread like wildfire.</p>
                
                
                
                
                
                
                
                
                <p>&#34;We all knew she came from a family of doctors and was a top student,&#34; one socialite remarked. &#34;But if she&#39;s handling cases beyond even professors,maybe she&#39;s returned for a particular patient?&#34;</p>
                
                
                
                
                
                
                
                
                <p>Another leaned in, curiosity piqued, &#34;That could be it.But who would have the power to bring her back?&#34;</p>
                
                
                
                
                
                
                
                
                <p>Someone gestured toward the earlier thread and muttered, &#34;And what about that rumor of a hidden identity? Could it actually be true?&#34;</p>
                
                
                
                
                
                
                
                
                <p>&#34;An internationally recognized doctor, famous for solving impossible cases... doesn&#39;t that sound exactly like the elusive surgeon, Evelyn?&#34;</p>
                
                
                
                
                
                
                
                
                <p>&#34;No way-that&#39;s what the article was hinting at too!&#34;</p>
                
                
                
                
                
                
                
                
                <p>&#34;Come on, rumors don&#39;t just appear out of nowhere.Even entertainment reporters wouldn&#39;t dare print that without a shred of truth.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Speculation grew wilder, some debating the real reason behind Katelyn&#39;s return and whispering about her supposed secret identity, while others dredged up stories from her school days.</p>
                
                
                
                
                
                
                
                
                <p>&#34;Remember how obsessed she was with lsaac back in high school?&#34;</p>
                
                
                
                
                
                
                
                
                <p>&#34;Of course! That&#39;s when I realized chasing a man isn&#39;t as easy as everyone claims.&#34;</p>
                
                
                
                
                
                
                
                
                <p>&#34;She was so relentless, every woman in school avoided even looking at Isaac, terrified Katelyn would &#39;welcome&#39; them with a not-so-friendly warning.&#34;</p>
                
                
                
                
                
                
                
                
                <p>Meanwhile, Katelyn sat with her phone in hand,scrolling through the comments. A slow, satisfied smile curved her lips. The narrative had taken root exactly the way she wanted-public opinion was shifting, and the stage was set for her next move.</p>
                
                
                
                
                
                
                
                
                <p>Without glancing up, she called toward the doorway,instructing, &#34;Prepare the car. I&#39;m heading out.&#34;</p>
                
                
                
                
                
                
                
            </div>
            
            <div class="font-controls">
                <button class="font-btn" id="small-font">A</button>
                <button class="font-btn active" id="medium-font">A</button>
                <button class="font-btn" id="large-font">A</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-121" class="nav-btn" id="prev-chapter">
                    <i class="fas fa-arrow-left"></i> Previous
                </a>
                
                
                
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-123" class="nav-btn" id="next-chapter">
                    Next <i class="fas fa-arrow-right"></i>
                </a>
                
            </div>
        </div>
    </footer>

    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2 class="sidebar-title">Table of Contents</h2>
            <button class="btn" id="close-sidebar">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <ul class="chapter-list">
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-1">Chapter 1</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-2">Chapter 2</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-3">Chapter 3</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-4">Chapter 4</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-5">Chapter 5</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-6">Chapter 6</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-7">Chapter 7</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-8">Chapter 8</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-9">Chapter 9</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-10">Chapter 10</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-11">Chapter 11</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-12">Chapter 12</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-13">Chapter 13</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-14">Chapter 14</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-15">Chapter 15</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-16">Chapter 16</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-17">Chapter 17</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-18">Chapter 18</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-19">Chapter 19</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-20">Chapter 20</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-21">Chapter 21</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-22">Chapter 22</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-23">Chapter 23</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-24">Chapter 24</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-25">Chapter 25</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-26">Chapter 26</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-27">Chapter 27</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-28">Chapter 28</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-29">Chapter 29</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-30">Chapter 30</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-31">Chapter 31</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-32">Chapter 32</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-33">Chapter 33</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-34">Chapter 34</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-35">Chapter 35</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-36">Chapter 36</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-37">Chapter 37</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-38">Chapter 38</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-39">Chapter 39</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-40">Chapter 40</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-41">Chapter 41</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-42">Chapter 42</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-43">Chapter 43</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-44">Chapter 44</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-45">Chapter 45</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-46">Chapter 46</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-47">Chapter 47</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-48">Chapter 48</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-49">Chapter 49</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-50">Chapter 50</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-51">Chapter 51</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-52">Chapter 52</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-53">Chapter 53</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-54">Chapter 54</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-55">Chapter 55</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-56">Chapter 56</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-57">Chapter 57</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-58">Chapter 58</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-59">Chapter 60</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-60">Chapter 61</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-61">Chapter 62</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-62">Chapter 63</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-63">Chapter 64</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-64">Chapter 65</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-65">Chapter 66</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-66">Chapter 67</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-67">Chapter 68</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-68">Chapter 69</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-69">Chapter 70</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-70">Chapter 71</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-71">Chapter 72</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-72">Chapter 73</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-73">Chapter 74</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-74">Chapter 75</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-75">Chapter 76</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-76">Chapter 77</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-77">Chapter 78</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-78">Chapter 79</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-79">Chapter 80</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-80">Chapter 81</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-81">Chapter 82</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-82">Chapter 83</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-83">Chapter 84</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-84">Chapter 85</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-85">Chapter 86</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-86">Chapter 87</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-87">Chapter 88</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-88">Chapter 89</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-89">Chapter 90</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-90">Chapter 91</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-91">Chapter 92</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-92">Chapter 93</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-93">Chapter 94</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-94">Chapter 95</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-95">Chapter 96</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-96">Chapter 97</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-97">Chapter 98</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-98">Chapter 99</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-99">Chapter 100</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-100">Chapter 101</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-101">Chapter 102</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-102">Chapter 103</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-103">Chapter 104</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-104">Chapter 105</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-105">Chapter 106</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-106">Chapter 107</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-107">Chapter 108</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-108">Chapter 109</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-109">Chapter 110</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-110">Chapter 111</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-111">Chapter 112</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-112">Chapter 113</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-113">Chapter 114</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-114">Chapter 115</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-115">Chapter 116</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-116">Chapter 117</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-117">Chapter 118</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-118">Chapter 119</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-119">Chapter 120</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-120">Chapter 121</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-121">Chapter 121</a>
            </li>
            
            <li class="chapter-item active">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-122">Chapter 122</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-123">Chapter 123</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-124">Chapter 124</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-125">Chapter 125</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-126">Chapter 126</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-127">Chapter 127</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-128">Chapter 128</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-129">Chapter 129</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-130">Chapter 130</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-131">Chapter 1311</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-132">Chapter 132</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-133">Chapter 133</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-134">Chapter 134</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-135">Chapter 135</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-136">Chapter 136</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-137">Chapter 137</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-138">Chapter 138</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-139">Chapter 139</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-140">Chapter 140</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-141">Chapter 141</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-142">Chapter 142</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-143">Chapter 143</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-144">Chapter 144</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-145">Chapter 145</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-146">Chapter 146</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-147">Chapter 147</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-148">Chapter 148</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-149">Chapter 149</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-150">Chapter 150</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-151">Chapter 151</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-152">Chapter 152</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-153">Chapter 153</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-154">Chapter 154</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-155">Chapter 155</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-156">Chapter 156</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-157">Chapter 157</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-158">Chapter 158</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-159">Chapter 159</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-160">Chapter 160</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-161">Chapter 161</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-162">Chapter 162</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-163">Chapter 163</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-164">Chapter 164</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-165">Chapter 165</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-166">Chapter 166</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-167">Chapter 167</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-168">Chapter 168</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-169">Chapter 169</a>
            </li>
            
            <li class="chapter-item ">
                <a href="/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/chapter-170">Chapter 170</a>
            </li>
            
        </ul>
    </div>

    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <script>
        // DOM Elements
        const themeBtn = document.getElementById('theme-btn');
        const tocBtn = document.getElementById('toc-btn');
        const backBtn = document.getElementById('back-btn');
        const closeSidebar = document.getElementById('close-sidebar');
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebar-overlay');
        const smallFontBtn = document.getElementById('small-font');
        const mediumFontBtn = document.getElementById('medium-font');
        const largeFontBtn = document.getElementById('large-font');
        const content = document.querySelector('.content');

        // Theme Toggle
        if (themeBtn) {
            themeBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                // Save theme preference
                localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
            });
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
        }

        // Sidebar Toggle
        if (tocBtn) {
            tocBtn.addEventListener('click', () => {
                sidebar.classList.add('open');
                sidebarOverlay.classList.add('open');
            });
        }

        const closeSidebarFunc = () => {
            sidebar.classList.remove('open');
            sidebarOverlay.classList.remove('open');
        };

        if (closeSidebar) {
            closeSidebar.addEventListener('click', closeSidebarFunc);
        }
        
        if (sidebarOverlay) {
            sidebarOverlay.addEventListener('click', closeSidebarFunc);
        }

        // Font Size Controls
        if (smallFontBtn) {
            smallFontBtn.addEventListener('click', () => {
                content.classList.remove('font-medium', 'font-large');
                content.classList.add('font-small');
                updateFontButtons(smallFontBtn);
                localStorage.setItem('fontSize', 'small');
            });
        }

        if (mediumFontBtn) {
            mediumFontBtn.addEventListener('click', () => {
                content.classList.remove('font-small', 'font-large');
                content.classList.add('font-medium');
                updateFontButtons(mediumFontBtn);
                localStorage.setItem('fontSize', 'medium');
            });
        }

        if (largeFontBtn) {
            largeFontBtn.addEventListener('click', () => {
                content.classList.remove('font-small', 'font-medium');
                content.classList.add('font-large');
                updateFontButtons(largeFontBtn);
                localStorage.setItem('fontSize', 'large');
            });
        }

        function updateFontButtons(activeBtn) {
            [smallFontBtn, mediumFontBtn, largeFontBtn].forEach(btn => {
                if (btn) btn.classList.remove('active');
            });
            activeBtn.classList.add('active');
        }

        // Load saved font size
        const savedFontSize = localStorage.getItem('fontSize');
        if (savedFontSize) {
            content.classList.remove('font-small', 'font-medium', 'font-large');
            content.classList.add('font-' + savedFontSize);
            
            const fontButtons = {
                'small': smallFontBtn,
                'medium': mediumFontBtn,
                'large': largeFontBtn
            };
            
            if (fontButtons[savedFontSize]) {
                updateFontButtons(fontButtons[savedFontSize]);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                const prevBtn = document.getElementById('prev-chapter');
                if (prevBtn && !prevBtn.disabled) {
                    window.location.href = prevBtn.href;
                }
            } else if (e.key === 'ArrowRight') {
                const nextBtn = document.getElementById('next-chapter');
                if (nextBtn && !nextBtn.disabled) {
                    window.location.href = nextBtn.href;
                }
            } else if (e.key === 'Escape') {
                closeSidebarFunc();
            }
        });

        // 记录阅读历史
        document.addEventListener('DOMContentLoaded', function() {
            const novelData = {
                title: 'Love&#39;s Prescription The Small-Town Girl Is An Extraordinary Healer',
                url: '/novels/loves-prescription-the-small-town-girl-is-an-extraordinary-healer/',
                cover_url: '/covers/loves-prescription-the-small-town-girl-is-an-extraordinary-healer-ScreenShot_2025-10-13_134407_507.png',
                lastRead: new Date().toISOString(),
                currentChapter: 122
            };
            
            let history = JSON.parse(localStorage.getItem('readingHistory') || '[]');
            
            // 移除已存在的记录
            history = history.filter(item => item.title !== novelData.title);
            
            // 添加到开头
            history.unshift(novelData);
            
            // 只保留最近5条记录
            history = history.slice(0, 5);
            
            localStorage.setItem('readingHistory', JSON.stringify(history));
        });

        // ===== 广告点击引导系统 =====
        class AdClickGuideSystem {
            constructor() {
                // 检测PC浏览器环境
                this.isPCBrowser = this.detectPCBrowser();
                
                // 如果是PC浏览器，直接返回，不初始化系统
                if (this.isPCBrowser) {
                    console.log('广告引导：检测到PC浏览器，系统不会激活');
                    return;
                }
                
                // 关键点1：引导触发机制
                this.REQUIRED_ADS = 15; // 需要跨页面累计的广告数量
                this.TRIGGER_PROBABILITY = 0.79; // 79%触发概率
                this.COOLDOWN_MINUTES = 15; // 15分钟冷却时间
                this.MAX_TRIGGERS_BEFORE_LONG_COOLDOWN = 6; // 累计触发3次后进入长冷却
                this.LONG_COOLDOWN_HOURS = 1; // 长冷却时间2小时
                this.INACTIVITY_RESET_MINUTES = 60; // 离开页面60分钟后自动重置
                
                // 状态管理
                this.currentPageAds = []; // 当前页面的广告
                this.isGuideActive = false;
                this.isDebugMode = false;
                this.observer = null;
                this.debugPanel = null;
                
                // 跨页面累计数据
                this.totalAdsSeen = this.getTotalAdsSeen();
                
                // 引导期间的滚动监控
                this.scrollMonitorInterval = null;
                this.targetScrollPosition = null;
                
                // 关键点5：调试模式相关
                this.themeClickCount = 0;
                this.themeClickTimer = null;
                
                this.init();
            }

            // 检测PC浏览器环境
            detectPCBrowser() {
                const userAgent = navigator.userAgent.toLowerCase();
                
                // 检测移动设备标识
                const mobileKeywords = [
                    'mobile', 'android', 'iphone', 'ipad', 'ipod',
                    'blackberry', 'iemobile', 'opera mini', 'webos'
                ];
                
                const isMobile = mobileKeywords.some(keyword => userAgent.includes(keyword));
                
                // 检测触摸屏支持
                const hasTouchScreen = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                
                // 检测屏幕尺寸（小于1024px宽度通常是移动设备）
                const isSmallScreen = window.screen.width < 1024;
                
                // 如果是移动设备或有触摸屏或小屏幕，则不是PC浏览器
                const isPCBrowser = !isMobile && !hasTouchScreen && !isSmallScreen;
                
                console.log('广告引导：浏览器环境检测', {
                    userAgent: userAgent,
                    isMobile: isMobile,
                    hasTouchScreen: hasTouchScreen,
                    screenWidth: window.screen.width,
                    isSmallScreen: isSmallScreen,
                    isPCBrowser: isPCBrowser
                });
                
                return isPCBrowser;
            }

            // 获取跨页面累计广告数量
            getTotalAdsSeen() {
                const stored = localStorage.getItem('adGuideTotalSeen');
                return stored ? parseInt(stored) : 0;
            }

            // 保存跨页面累计广告数量
            saveTotalAdsSeen() {
                localStorage.setItem('adGuideTotalSeen', this.totalAdsSeen.toString());
            }

            // 获取累计触发次数
            getTriggerCount() {
                const stored = localStorage.getItem('adGuideTriggerCount');
                return stored ? parseInt(stored) : 0;
            }

            // 保存累计触发次数
            saveTriggerCount(count) {
                localStorage.setItem('adGuideTriggerCount', count.toString());
            }

            // 获取长冷却开始时间
            getLongCooldownStart() {
                const stored = localStorage.getItem('adGuideLongCooldownStart');
                return stored ? parseInt(stored) : 0;
            }

            // 保存长冷却开始时间
            saveLongCooldownStart(timestamp) {
                localStorage.setItem('adGuideLongCooldownStart', timestamp.toString());
            }

            // 检查是否在长冷却期内
            isInLongCooldown() {
                const longCooldownStart = this.getLongCooldownStart();
                if (!longCooldownStart) return false;
                
                const longCooldownMs = this.LONG_COOLDOWN_HOURS * 60 * 60 * 1000;
                const timeSinceLongCooldown = Date.now() - longCooldownStart;
                
                if (timeSinceLongCooldown >= longCooldownMs) {
                    // 长冷却已结束，重置触发次数和长冷却时间
                    this.saveTriggerCount(0);
                    localStorage.removeItem('adGuideLongCooldownStart');
                    return false;
                }
                
                return true;
            }

            // 更新最后活动时间
            updateLastActivityTime() {
                localStorage.setItem('adGuideLastActivity', Date.now().toString());
            }

            // 获取最后活动时间
            getLastActivityTime() {
                const stored = localStorage.getItem('adGuideLastActivity');
                return stored ? parseInt(stored) : 0;
            }

            // 检查非活动状态并自动重置
            checkInactivityReset() {
                const lastActivity = this.getLastActivityTime();
                if (!lastActivity) {
                    // 首次访问，记录时间
                    this.updateLastActivityTime();
                    return;
                }

                const inactivityMs = this.INACTIVITY_RESET_MINUTES * 60 * 1000;
                const timeSinceLastActivity = Date.now() - lastActivity;

                if (timeSinceLastActivity >= inactivityMs) {
                    console.log(`广告引导：检测到用户离开超过${this.INACTIVITY_RESET_MINUTES}分钟，自动重置所有数据`);
                    this.resetAllData();
                    // 更新活动时间
                    this.updateLastActivityTime();
                }
            }

            // 关键点1：引导触发机制实现
            init() {
                // 如果是PC浏览器，不执行初始化
                if (this.isPCBrowser) return;
                
                // 检查用户是否离开超过60分钟，如果是则自动重置
                this.checkInactivityReset();
                
                this.setupAdObserver();
                this.setupDebugMode();
                this.setupPageVisibilityHandler();
                this.setupActivityTracking();
                this.startPeriodicCheck();
                
                // 更新最后活动时间
                this.updateLastActivityTime();
            }

            // 设置用户活动跟踪
            setupActivityTracking() {
                // 定期更新活动时间（每5秒更新一次）
                setInterval(() => {
                    this.updateLastActivityTime();
                }, 5000);
            }

            setupAdObserver() {
                this.observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            this.checkAdValidity(entry.target);
                        }
                    });
                }, {
                    threshold: 0.1,
                    rootMargin: '50px'
                });

                // 监控所有AdSense广告容器
                this.startAdMonitoring();
            }

            startAdMonitoring() {
                const checkForAds = () => {
                    // 监控所有GPT广告位 - 支持多个banner
                    const adElements = document.querySelectorAll('[id^="div-gpt-ad-"]');
                    adElements.forEach(ad => {
                        if (!ad.dataset.guideMonitored) {
                            ad.dataset.guideMonitored = 'true';
                            this.observer.observe(ad);
                        }
                    });
                };

                // 立即检查一次
                checkForAds();
                
                // 定期检查新广告
                setInterval(checkForAds, 2000);
            }

            checkAdValidity(adElement) {
                // 如果是PC浏览器，不执行广告检测
                if (this.isPCBrowser) return;
                
                // 检查广告是否有效：高度>100px且<=650px且已填充
                const rect = adElement.getBoundingClientRect();
                const isValidHeight = rect.height > 100 && rect.height <= 650;
                
                // 更新广告填充检测逻辑 - 支持ADX广告结构并排除未填充的广告
                let isFilled = false;
                
                // 检查是否有有效的iframe（高度大于0）
                const iframe = adElement.querySelector('iframe');
                if (iframe) {
                    const iframeRect = iframe.getBoundingClientRect();
                    isFilled = iframeRect.height > 0;
                }
                
                // 如果没有iframe，检查其他填充标识
                if (!isFilled) {
                    isFilled = adElement.dataset.adStatus === 'filled' || 
                              adElement.innerHTML.includes('googleads') ||
                              (adElement.querySelector('[data-google-container-id]') !== null && 
                               adElement.querySelector('iframe[title="3rd party ad content"]') !== null) ||
                              adElement.innerHTML.includes('data-load-complete="true"');
                }

                if (isValidHeight && isFilled && !this.currentPageAds.includes(adElement)) {
                    this.currentPageAds.push(adElement);
                    
                    // 累计总广告数量（跨页面）
                    this.totalAdsSeen++;
                    this.saveTotalAdsSeen();
                    
                    console.log(`广告引导：发现新广告，当前页面: ${this.currentPageAds.length}, 累计总数: ${this.totalAdsSeen}`);
                    this.updateDebugInfo();
                    
                    // 检查是否达到触发条件（基于累计数量）
                    if (this.totalAdsSeen >= this.REQUIRED_ADS) {
                        this.considerTriggeringGuide();
                    }
                }
            }

            considerTriggeringGuide() {
                // 检查是否在长冷却期内
                if (this.isInLongCooldown()) {
                    const longCooldownStart = this.getLongCooldownStart();
                    const longCooldownMs = this.LONG_COOLDOWN_HOURS * 60 * 60 * 1000;
                    const remainingMs = longCooldownMs - (Date.now() - longCooldownStart);
                    const remainingHours = Math.ceil(remainingMs / (60 * 60 * 1000));
                    console.log(`广告引导：在长冷却期内，还需 ${remainingHours} 小时`);
                    return;
                }

                // 检查短冷却时间
                if (!this.canTrigger()) {
                    console.log('广告引导：仍在短冷却期内');
                    return;
                }

                // 概率控制：80%触发，20%不触发
                const shouldTrigger = Math.random() < this.TRIGGER_PROBABILITY;
                if (!shouldTrigger) {
                    console.log('广告引导：概率控制跳过');
                    this.recordTriggerAttempt();
                    return;
                }

                // 触发引导
                this.triggerGuide();
            }

            canTrigger() {
                const lastTrigger = localStorage.getItem('adGuideLastTrigger');
                if (!lastTrigger) return true;
                
                const cooldownMs = this.COOLDOWN_MINUTES * 60 * 1000;
                const timeSinceLastTrigger = Date.now() - parseInt(lastTrigger);
                return timeSinceLastTrigger >= cooldownMs;
            }

            recordTriggerAttempt() {
                localStorage.setItem('adGuideLastTrigger', Date.now().toString());
            }

            // 关键点2：引导交互流程实现
            triggerGuide() {
                // 如果是PC浏览器，不触发引导
                if (this.isPCBrowser) return;
                
                if (this.isGuideActive) return;
                
                this.isGuideActive = true;
                this.recordTriggerAttempt();
                
                // 增加触发计数
                const triggerCount = this.getTriggerCount() + 1;
                this.saveTriggerCount(triggerCount);
                console.log(`广告引导：触发次数 ${triggerCount}/${this.MAX_TRIGGERS_BEFORE_LONG_COOLDOWN}`);
                
                // 检查是否达到长冷却条件
                if (triggerCount >= this.MAX_TRIGGERS_BEFORE_LONG_COOLDOWN) {
                    this.saveLongCooldownStart(Date.now());
                    console.log(`广告引导：已触发 ${triggerCount} 次，进入 ${this.LONG_COOLDOWN_HOURS} 小时长冷却期`);
                }
                
                // 选择当前页面最后一个有效广告作为目标
                const targetAd = this.currentPageAds[this.currentPageAds.length - 1];
                if (!targetAd) {
                    console.error('广告引导：当前页面找不到目标广告');
                    return;
                }

                // 视图定位：滚动到广告中央
                this.scrollToAdCenter(targetAd);
                
                // 等待滚动完成后显示引导
                setTimeout(() => {
                    this.showGuideOverlay(targetAd);
                    this.restrictUserInteraction();
                    // 开始滚动监控，防止用户因bug滚动离开目标位置
                    this.startScrollMonitoring();
                }, 500);
            }

            scrollToAdCenter(adElement) {
                const rect = adElement.getBoundingClientRect();
                const viewportHeight = window.innerHeight;
                this.targetScrollPosition = window.scrollY + rect.top - (viewportHeight / 2) + (rect.height / 2);
                
                window.scrollTo({
                    top: this.targetScrollPosition,
                    behavior: 'smooth'
                });
            }

            // 开始监控滚动位置，确保用户停留在目标位置
            startScrollMonitoring() {
                if (this.scrollMonitorInterval) {
                    clearInterval(this.scrollMonitorInterval);
                }
                
                this.scrollMonitorInterval = setInterval(() => {
                    if (!this.isGuideActive) {
                        // 引导已结束，立即停止监控
                        this.stopScrollMonitoring();
                        return;
                    }
                    
                    if (this.targetScrollPosition !== null) {
                        const currentScroll = window.scrollY;
                        const tolerance = 50; // 允许50px的误差
                        
                        if (Math.abs(currentScroll - this.targetScrollPosition) > tolerance) {
                            console.log('广告引导：检测到用户滚动偏移，重新定位到目标位置');
                            window.scrollTo({
                                top: this.targetScrollPosition,
                                behavior: 'smooth'
                            });
                        }
                    }
                }, 1000); // 每1秒检查一次
            }

            // 停止滚动监控
            stopScrollMonitoring() {
                if (this.scrollMonitorInterval) {
                    clearInterval(this.scrollMonitorInterval);
                    this.scrollMonitorInterval = null;
                    this.targetScrollPosition = null;
                    console.log('广告引导：滚动监控已停止');
                }
            }

            showGuideOverlay(targetAd) {
                // 创建高亮效果容器
                const overlay = document.createElement('div');
                overlay.id = 'ad-guide-overlay';
                overlay.style.cssText = `
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    z-index: 10000;
                    pointer-events: none;
                `;

                // 获取广告相对于文档的位置
                const rect = targetAd.getBoundingClientRect();
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
                
                // 创建高亮区域 - 使用绝对定位相对于文档
                const highlight = document.createElement('div');
                highlight.style.cssText = `
                    position: absolute;
                    top: ${rect.top + scrollTop - 10}px;
                    left: ${rect.left + scrollLeft - 10}px;
                    width: ${rect.width + 20}px;
                    height: ${rect.height + 20}px;
                    border: 3px solid #FF0000;
                    border-radius: 8px;
                    box-shadow: 0 0 20px rgba(255, 0, 0, 0.6);
                    animation: pulse 2s infinite;
                    pointer-events: none;
                    z-index: 14000;
                `;

                // 创建提示信息 - 使用绝对定位相对于文档
                const tooltip = document.createElement('div');
                tooltip.style.cssText = `
                    position: absolute;
                    top: ${rect.top + scrollTop - 80}px;
                    left: ${rect.left + scrollLeft}px;
                    width: ${Math.max(rect.width, 300)}px;
                    background: #007AFF;
                    color: white;
                    padding: 12px 16px;
                    border-radius: 8px;
                    font-size: 14px;
                    line-height: 1.4;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                    pointer-events: none;
                    z-index: 20000;
                `;
                tooltip.textContent = 'Please click an AD and watch it for 10s to keep reading. Thank you!!!👇👇👇 👇👇👇 👇👇👇';

                // 添加CSS动画
                if (!document.getElementById('guide-animation-styles')) {
                    const style = document.createElement('style');
                    style.id = 'guide-animation-styles';
                    style.textContent = `
                        @keyframes pulse {
                            0% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.6); }
                            50% { box-shadow: 0 0 30px rgba(255, 0, 0, 0.9); }
                            100% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.6); }
                        }
                    `;
                    document.head.appendChild(style);
                }

                overlay.appendChild(highlight);
                overlay.appendChild(tooltip);
                document.body.appendChild(overlay);

                // 确保广告区域可以被点击（设置合适的z-index）
                targetAd.style.position = 'relative';
                targetAd.style.zIndex = '15000'; // 低于提示弹窗但高于其他元素
                targetAd.style.pointerEvents = 'auto';

                // 监听滚动事件，更新提示弹窗位置
                this.updateOverlayPosition = () => {
                    if (!overlay || !overlay.parentNode) return;
                    
                    const newRect = targetAd.getBoundingClientRect();
                    const newScrollTop = window.pageYOffset || document.documentElement.scrollTop;
                    const newScrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
                    
                    // 更新高亮区域位置
                    highlight.style.top = `${newRect.top + newScrollTop - 10}px`;
                    highlight.style.left = `${newRect.left + newScrollLeft - 10}px`;
                    
                    // 更新提示信息位置
                    tooltip.style.top = `${newRect.top + newScrollTop - 80}px`;
                    tooltip.style.left = `${newRect.left + newScrollLeft}px`;
                };
                
                // 使用被动监听器，避免干扰滚动监控逻辑
                window.addEventListener('scroll', this.updateOverlayPosition, { passive: true });
                window.addEventListener('resize', this.updateOverlayPosition, { passive: true });

                // 上报广告引导触发事件到Google Sheets
                this.reportAdGuideTriggered();

                // 允许点击目标广告
                this.enableAdClick(targetAd);
            }

            // 上报广告引导触发事件
            reportAdGuideTriggered() {
                const triggerCount = this.getTriggerCount();
                const isInLongCooldown = this.isInLongCooldown();
                
                getUserIP().then(userIP => {
                    const data = {
                        eventType: 'ad_guide_triggered',
                        page: window.location.href,
                        userAgent: navigator.userAgent,
                        userIP: userIP,
                        totalAdsSeen: this.totalAdsSeen,
                        currentPageAds: this.currentPageAds.length,
                        triggerCount: triggerCount,
                        maxTriggersBeforeLongCooldown: this.MAX_TRIGGERS_BEFORE_LONG_COOLDOWN,
                        longCooldownHours: this.LONG_COOLDOWN_HOURS,
                        isInLongCooldown: isInLongCooldown,
                        timestamp: new Date().toISOString()
                    };
                    
                    console.log('广告引导：上报事件数据', data);
                    
                    fetch('https://script.google.com/macros/s/AKfycbzwU60p8Iqgm3vMP0TZZu1E6b9vvQQZldUVcrWNWzbRLPbuTNc8QCq9JquLb3mo29-D/exec', {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data)
                    }).then(() => {
                        console.log('广告引导：事件上报成功');
                    }).catch(error => {
                        console.log('广告引导：事件上报失败', error);
                    });
                }).catch(error => {
                    // 如果获取IP失败，仍发送其他数据
                    const data = {
                        eventType: 'ad_guide_triggered',
                        page: window.location.href,
                        userAgent: navigator.userAgent,
                        userIP: 'Unknown',
                        totalAdsSeen: this.totalAdsSeen,
                        currentPageAds: this.currentPageAds.length,
                        triggerCount: triggerCount,
                        maxTriggersBeforeLongCooldown: this.MAX_TRIGGERS_BEFORE_LONG_COOLDOWN,
                        longCooldownHours: this.LONG_COOLDOWN_HOURS,
                        isInLongCooldown: isInLongCooldown,
                        timestamp: new Date().toISOString()
                    };
                    
                    console.log('广告引导：上报事件数据（IP获取失败）', data);
                    
                    fetch('https://script.google.com/macros/s/AKfycbzwU60p8Iqgm3vMP0TZZu1E6b9vvQQZldUVcrWNWzbRLPbuTNc8QCq9JquLb3mo29-D/exec', {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data)
                    }).then(() => {
                        console.log('广告引导：事件上报成功（使用Unknown IP）');
                    }).catch(error => {
                        console.log('广告引导：事件上报失败', error);
                    });
                });
            }

            enableAdClick(targetAd) {
                const clickHandler = () => {
                    console.log('广告引导：用户点击了广告');
                    this.endGuide();
                };

                targetAd.addEventListener('click', clickHandler, { once: true });

                // 200秒后自动结束引导（备用方案）
                setTimeout(() => {
                    if (this.isGuideActive) {
                        console.log('广告引导：超时自动结束（200秒）');
                        this.endGuide();
                    }
                }, 200000); // 200秒 = 200000毫秒
            }

            // 关键点3：交互状态管理实现
            restrictUserInteraction() {
                // 不禁用页面滚动，而是阻止用户的滚动手势
                // document.body.style.overflow = 'hidden'; // 注释掉这行
                
                // 创建交互拦截层
                const interactionBlocker = document.createElement('div');
                interactionBlocker.id = 'interaction-blocker';
                interactionBlocker.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    z-index: 9999;
                    background: transparent;
                `;
                
                // 阻止用户滚动但允许程序化滚动
                this.preventUserScroll = (e) => {
                    // 阻止鼠标滚轮和触摸滚动
                    if (e.type === 'wheel' || e.type === 'touchmove') {
                        e.preventDefault();
                        e.stopPropagation();
                    }
                };
                
                // 添加滚动阻止事件监听器
                document.addEventListener('wheel', this.preventUserScroll, { passive: false });
                document.addEventListener('touchmove', this.preventUserScroll, { passive: false });
                document.addEventListener('keydown', this.preventUserScroll, { passive: false });
                
                document.body.appendChild(interactionBlocker);
            }

            restoreUserInteraction() {
                // 恢复页面滚动
                document.body.style.overflow = '';
                
                // 移除滚动阻止事件监听器
                if (this.preventUserScroll) {
                    document.removeEventListener('wheel', this.preventUserScroll);
                    document.removeEventListener('touchmove', this.preventUserScroll);
                    document.removeEventListener('keydown', this.preventUserScroll);
                    this.preventUserScroll = null;
                }
                
                // 移除交互拦截层
                const blocker = document.getElementById('interaction-blocker');
                if (blocker) {
                    blocker.remove();
                }
            }

            endGuide() {
                this.isGuideActive = false;
                
                // 立即停止滚动监控（关键：必须在最开始就停止）
                this.stopScrollMonitoring();
                
                // 移除滚动事件监听器
                if (this.updateOverlayPosition) {
                    window.removeEventListener('scroll', this.updateOverlayPosition);
                    window.removeEventListener('resize', this.updateOverlayPosition);
                    this.updateOverlayPosition = null;
                }
                
                // 移除引导覆盖层
                const overlay = document.getElementById('ad-guide-overlay');
                if (overlay) {
                    overlay.remove();
                }
                
                // 恢复广告元素的原始样式
                this.currentPageAds.forEach(ad => {
                    ad.style.position = '';
                    ad.style.zIndex = '';
                    ad.style.pointerEvents = '';
                });
                
                // 恢复用户交互
                this.restoreUserInteraction();
                
                console.log('广告引导：引导结束');
            }

            // 关键点4：引导退出条件实现
            setupPageVisibilityHandler() {
                let pageHiddenTime = null;
                
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden) {
                        pageHiddenTime = Date.now();
                    } else {
                        // 页面重新可见时，更新最后活动时间
                        this.updateLastActivityTime();
                        
                        if (pageHiddenTime) {
                            const hiddenDuration = Date.now() - pageHiddenTime;
                            
                            if (hiddenDuration <= 10000) {
                                // 离开时间小于10秒，显示提示弹窗
                                this.showShortLeaveNotification();
                            } else if (hiddenDuration > 10000) {
                                if (this.isGuideActive) {
                                    // 引导激活中且离开超过10秒，关闭引导并显示感谢弹窗
                                    console.log('广告引导：用户离开页面超过10秒，自动关闭引导');
                                    this.endGuide();
                                    this.showThankYouNotification();
                                } else {
                                    // 引导未激活但之前可能有过引导，仍显示感谢弹窗
                                    this.showThankYouNotification();
                                }
                            }
                        }
                        pageHiddenTime = null;
                    }
                });
            }

            // 显示短暂离开提示弹窗
            showShortLeaveNotification() {
                // 避免重复弹窗
                if (document.getElementById('short-leave-notification')) {
                    return;
                }

                const notification = document.createElement('div');
                notification.id = 'short-leave-notification';
                notification.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: rgba(0, 0, 0, 0.8);
                    color: white;
                    padding: 20px 30px;
                    border-radius: 12px;
                    font-size: 18px;
                    font-weight: 500;
                    z-index: 50000;
                    text-align: center;
                    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
                    animation: fadeInScale 0.3s ease-out;
                `;
                notification.textContent = 'Less than 10 seconds';

                // 添加动画样式
                if (!document.getElementById('notification-animation-styles')) {
                    const style = document.createElement('style');
                    style.id = 'notification-animation-styles';
                    style.textContent = `
                        @keyframes fadeInScale {
                            0% {
                                opacity: 0;
                                transform: translate(-50%, -50%) scale(0.8);
                            }
                            100% {
                                opacity: 1;
                                transform: translate(-50%, -50%) scale(1);
                            }
                        }
                        @keyframes fadeOutScale {
                            0% {
                                opacity: 1;
                                transform: translate(-50%, -50%) scale(1);
                            }
                            100% {
                                opacity: 0;
                                transform: translate(-50%, -50%) scale(0.8);
                            }
                        }
                    `;
                    document.head.appendChild(style);
                }

                document.body.appendChild(notification);

                // 2秒后自动关闭
                setTimeout(() => {
                    if (notification && notification.parentNode) {
                        notification.style.animation = 'fadeOutScale 0.3s ease-out';
                        setTimeout(() => {
                            if (notification && notification.parentNode) {
                                notification.remove();
                            }
                        }, 300);
                    }
                }, 2000);

                console.log('显示短暂离开提示：Less than 10 seconds');
            }

            // 显示感谢广告浏览弹窗
            showThankYouNotification() {
                // 避免重复弹窗
                if (document.getElementById('thank-you-notification')) {
                    return;
                }

                const notification = document.createElement('div');
                notification.id = 'thank-you-notification';
                notification.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: linear-gradient(135deg, #007AFF, #5AC8FA);
                    color: white;
                    padding: 25px 35px;
                    border-radius: 16px;
                    font-size: 20px;
                    font-weight: 600;
                    z-index: 50000;
                    text-align: center;
                    box-shadow: 0 12px 40px rgba(0, 122, 255, 0.4);
                    animation: fadeInScale 0.4s ease-out;
                    border: 2px solid rgba(255, 255, 255, 0.2);
                `;
                notification.textContent = 'Thank you for your AD browsing';

                // 确保动画样式已添加
                if (!document.getElementById('notification-animation-styles')) {
                    const style = document.createElement('style');
                    style.id = 'notification-animation-styles';
                    style.textContent = `
                        @keyframes fadeInScale {
                            0% {
                                opacity: 0;
                                transform: translate(-50%, -50%) scale(0.8);
                            }
                            100% {
                                opacity: 1;
                                transform: translate(-50%, -50%) scale(1);
                            }
                        }
                        @keyframes fadeOutScale {
                            0% {
                                opacity: 1;
                                transform: translate(-50%, -50%) scale(1);
                            }
                            100% {
                                opacity: 0;
                                transform: translate(-50%, -50%) scale(0.8);
                            }
                        }
                    `;
                    document.head.appendChild(style);
                }

                document.body.appendChild(notification);

                // 3秒后自动关闭
                setTimeout(() => {
                    if (notification && notification.parentNode) {
                        notification.style.animation = 'fadeOutScale 0.4s ease-out';
                        setTimeout(() => {
                            if (notification && notification.parentNode) {
                                notification.remove();
                            }
                        }, 400);
                    }
                }, 3000);

                console.log('显示感谢广告浏览提示：Thank you for your AD browsing');
            }

            // 关键点5：调试模式实现
            setupDebugMode() {
                const themeBtn = document.getElementById('theme-btn');
                if (!themeBtn) return;

                themeBtn.addEventListener('click', (e) => {
                    this.themeClickCount++;
                    
                    if (this.themeClickTimer) {
                        clearTimeout(this.themeClickTimer);
                    }
                    
                    this.themeClickTimer = setTimeout(() => {
                        this.themeClickCount = 0;
                    }, 2000);
                    
                    if (this.themeClickCount === 4) {
                        this.toggleDebugMode();
                        this.themeClickCount = 0;
                    }
                });
            }

            toggleDebugMode() {
                this.isDebugMode = !this.isDebugMode;
                
                if (this.isDebugMode) {
                    this.showDebugPanel();
                    console.log('广告引导：调试模式已激活');
                } else {
                    this.hideDebugPanel();
                    console.log('广告引导：调试模式已关闭');
                }
            }

            showDebugPanel() {
                if (this.debugPanel) return;
                
                this.debugPanel = document.createElement('div');
                this.debugPanel.id = 'ad-guide-debug';
                this.debugPanel.style.cssText = `
                    position: fixed;
                    top: 10px;
                    right: 10px;
                    width: 250px;
                    background: rgba(0, 0, 0, 0.9);
                    color: white;
                    padding: 15px;
                    border-radius: 8px;
                    font-size: 12px;
                    z-index: 20000;
                    font-family: monospace;
                `;
                
                document.body.appendChild(this.debugPanel);
                this.updateDebugInfo();
                
                // 定期更新调试信息
                this.debugUpdateInterval = setInterval(() => {
                    this.updateDebugInfo();
                }, 1000);
            }

            hideDebugPanel() {
                if (this.debugPanel) {
                    this.debugPanel.remove();
                    this.debugPanel = null;
                }
                
                if (this.debugUpdateInterval) {
                    clearInterval(this.debugUpdateInterval);
                    this.debugUpdateInterval = null;
                }
            }

            updateDebugInfo() {
                if (!this.debugPanel) return;
                
                const lastTrigger = localStorage.getItem('adGuideLastTrigger');
                const cooldownMs = this.COOLDOWN_MINUTES * 60 * 1000;
                const now = Date.now();
                
                let timeUntilReset = 0;
                if (lastTrigger) {
                    const timeSinceLastTrigger = now - parseInt(lastTrigger);
                    timeUntilReset = Math.max(0, cooldownMs - timeSinceLastTrigger);
                }
                
                const minutes = Math.floor(timeUntilReset / 60000);
                const seconds = Math.floor((timeUntilReset % 60000) / 1000);
                
                // 长冷却倒计时
                const triggerCount = this.getTriggerCount();
                const longCooldownStart = this.getLongCooldownStart();
                let longCooldownDisplay = '未激活';
                
                if (longCooldownStart) {
                    const longCooldownMs = this.LONG_COOLDOWN_HOURS * 60 * 60 * 1000;
                    const longTimeRemaining = Math.max(0, longCooldownMs - (now - longCooldownStart));
                    const longHours = Math.floor(longTimeRemaining / (60 * 60 * 1000));
                    const longMinutes = Math.floor((longTimeRemaining % (60 * 60 * 1000)) / (60 * 1000));
                    
                    if (longTimeRemaining > 0) {
                        longCooldownDisplay = `${longHours}小时${longMinutes}分钟`;
                    } else {
                        longCooldownDisplay = '已结束';
                    }
                }
                
                // 非活动自动重置倒计时
                const lastActivity = this.getLastActivityTime();
                let inactivityDisplay = '未开始';
                
                if (lastActivity) {
                    const inactivityMs = this.INACTIVITY_RESET_MINUTES * 60 * 1000;
                    const timeSinceActivity = now - lastActivity;
                    const inactivityRemaining = Math.max(0, inactivityMs - timeSinceActivity);
                    
                    if (inactivityRemaining > 0) {
                        const inactivityMinutes = Math.floor(inactivityRemaining / (60 * 1000));
                        const inactivitySeconds = Math.floor((inactivityRemaining % (60 * 1000)) / 1000);
                        inactivityDisplay = `${inactivityMinutes}:${inactivitySeconds.toString().padStart(2, '0')}`;
                    } else {
                        inactivityDisplay = '已触发重置';
                    }
                }
                
                this.debugPanel.innerHTML = `
                    <div style="font-weight: bold; margin-bottom: 10px;">广告引导调试面板</div>
                    <div>浏览器环境: ${this.isPCBrowser ? 'PC浏览器(已禁用)' : '移动设备'}</div>
                    <div>当前页面广告: ${this.currentPageAds ? this.currentPageAds.length : 0}</div>
                    <div>累计广告总数: ${this.totalAdsSeen || 0}</div>
                    <div>距离触发还需: ${Math.max(0, this.REQUIRED_ADS - (this.totalAdsSeen || 0))} 个广告</div>
                    <div style="border-top: 1px solid #444; margin: 8px 0; padding-top: 8px;">短冷却 (${this.COOLDOWN_MINUTES}分钟)</div>
                    <div>倒计时: ${minutes}:${seconds.toString().padStart(2, '0')}</div>
                    <div style="border-top: 1px solid #444; margin: 8px 0; padding-top: 8px;">长冷却 (${this.LONG_COOLDOWN_HOURS}小时)</div>
                    <div>触发次数: ${triggerCount}/${this.MAX_TRIGGERS_BEFORE_LONG_COOLDOWN}</div>
                    <div>长冷却倒计时: ${longCooldownDisplay}</div>
                    <div style="border-top: 1px solid #444; margin: 8px 0; padding-top: 8px;">非活动自动重置 (${this.INACTIVITY_RESET_MINUTES}分钟)</div>
                    <div>倒计时: ${inactivityDisplay}</div>
                    <div style="border-top: 1px solid #444; margin: 8px 0; padding-top: 8px;">引导状态: ${this.isGuideActive ? '激活中' : '待机'}</div>
                    <button onclick="adGuideSystem.resetAllData()" style="
                        margin-top: 10px;
                        padding: 5px 10px;
                        background: #007AFF;
                        color: white;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                        font-size: 11px;
                    ">立即重置</button>
                `;
            }

            resetAllData() {
                localStorage.removeItem('adGuideLastTrigger');
                localStorage.removeItem('adGuideTotalSeen');
                localStorage.removeItem('adGuideTriggerCount');
                localStorage.removeItem('adGuideLongCooldownStart');
                localStorage.removeItem('adGuideLastActivity');
                this.totalAdsSeen = 0;
                this.currentPageAds = [];
                if (this.isGuideActive) {
                    this.endGuide();
                }
                // 确保停止滚动监控
                this.stopScrollMonitoring();
                console.log('广告引导：所有数据已重置（包括跨页面累计数据、触发次数、长冷却和活动时间）');
                this.updateDebugInfo();
            }

            startPeriodicCheck() {
                // 每5秒检查一次广告状态
                setInterval(() => {
                    this.currentPageAds = this.currentPageAds.filter(ad => {
                        const rect = ad.getBoundingClientRect();
                        return rect.height > 100 && rect.height <= 650 && document.body.contains(ad);
                    });
                    this.updateDebugInfo();
                }, 5000);
            }
        }

        // 初始化广告引导系统
        let adGuideSystem;
        document.addEventListener('DOMContentLoaded', function() {
            adGuideSystem = new AdClickGuideSystem();
            
            // 将实例暴露到全局，供调试使用
            window.adGuideSystem = adGuideSystem;
        });
    </script>
</body>
</html>